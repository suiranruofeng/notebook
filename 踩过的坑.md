sralus@Suiran: ~/Software/test $ docker build . --network=host                                 [11:23:56]
docker网络和宿主机共享


关于mesa的docker安装
```shell
RUN wget https://github.com/MESAHub/mesa/archive/refs/tags/r24.03.1.tar.gz --user-agent="mozilla"

ENV 
```
```shell
FROM archlinux:multilib-devel
RUN pacman -Syu --noconfirm && \
    pacman -S --noconfirm \
      binutils \
      curl \
      make \
      perl \
      libx11 \
      zlib \
      tcsh \
      git \
      wget \
      glibc \
      && \
    pacman -Scc --noconfirm
RUN curl -L http://user.astro.wisc.edu/~townsend/resource/download/mesasdk/mesasdk-x86_64-linux-21.4.2.tar.gz | \
    tar xzf - -C /opt/
ENV MESASDK_ROOT=/opt/mesasdk
RUN bash $MESASDK_ROOT/bin/mesasdk_init.sh
```

# 关于电脑在archlinux下的休眠问题
现象是sleep后立刻亮屏，休眠失败，翻看日志不知原因。
原因：由于usb设备的唤醒
解决方法：手动编辑服务
```shell
vim /etc/systemd/system/zxw_disable-acpi-wakeup.service
```
```shell
[Unit]
Description=Disable ACPI Wakeup Devices zxw
After=sysinit.target

[Service]
Type=oneshot
ExecStart=/bin/sh -c ' \
  echo "XHC3" > /proc/acpi/wakeup; \
  echo "XHC4" > /proc/acpi/wakeup; \
'

[Install]
WantedBy=multi-user.target
~
```
最后开启服务
```shell
systemctl enable zxw_disable-acpi-wakeup.service
systemctl start zxw_disable-acpi-wakeup.service
```
